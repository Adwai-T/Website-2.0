(()=>{"use strict";class t{constructor(e,i,n,r){t.numberOfCanvas++,this.width=e,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=i,this.canvas.tabIndex=1,this.canvas.style="border:1px solid #000000; cursor: none",document.getElementById(n).appendChild(this.canvas),"string"==typeof r&&(this.canvas.id=r,this.id=r),this.ctx=this.canvas.getContext("2d")}setID(t){this.id=t,this.canvas.id=t}getCanvasElement(){return this.canvas}getContext(){return this.ctx}setStyle(t){this.canvas.style=t}clearCanvas(){this.ctx.clearRect(0,0,this.width,this.height)}}class e{constructor(t,e){this.x=t,this.y=e}toPoint(){return new i(this.x,this.y)}isEqual(t){return this.x===t.x&&this.y===t.y}getMagnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}getMagnitudeSquare(){return this.x*this.x+this.y*this.y}normalize(){let t=this.getMagnitude();t>0&&(this.x=this.x/t,this.y=this.y/t)}getNormalized(){let t=this.getMagnitude();return t>0?new e(this.x/t,this.y/t):new e(0,0)}getSlope(){return this.y/this.x}getDirection(t){return t?180*Math.atan(this.y/this.x)/Math.PI:Math.atan(this.y/this.x)}invert(){this.x=-this.x,this.y=-this.y}scaleVector(t){this.x*=t,this.y*=t}getScaledVector(t){return new e(this.x*t,this.y*t)}addVector(t){this.x+=t.x,this.y+=t.y}getAdditionVector(t){return new e(this.x+t.x,this.y+t.y)}subtractVector(t){this.x-=t.x,this.y-=t.y}getSubtractionVector(t){return new e(this.x-t.x,this.y-t.y)}addScaledVector(t,e){this.x+=t.x*e,this.y+=t.y*e}componentProduct(t){this.x*=t.x,this.y*=t.y}getComponentProductVector(t){return new e(this.x*t.x,this.y*t.y)}getScalarProduct(t){return this.x*t.x+this.y*t.y}getDotProduct(t){return this.x*t.x+this.y*t.y}getInnerProduct(t){return this.x*t.x+this.y*t.y}getAngleBetweenVector(t,e){let i=Math.acos(this.getDotProduct(t)/(this.getMagnitude*t.getMagnitude));return e?i:function(t){return 57.295754*t}(i)}getProjectionVector(t){let e=this.getDotProduct(t)/t.getMagnitudeSquare();return t.getScaledVector(e)}getReflectionVector(t){let e=this.getProjectionVector(t);return console.log(e),e.scaleVector(2),console.log(e),e.getSubtractionVector(this)}getNormal(t){return t?new e(-1*this.y,this.x):new e(this.y,-1*this.x)}translate(t){this.addVector(t)}getTranslated(t){return this.getAdditionVector(t)}reflectX(){this.y=-this.y}getReflectX(){return new e(this.x,-this.y)}reflectY(){this.x=-this.x}getReflectY(){return new e(-this.x,this.y)}reflectOrigin(){this.x=-this.x,this.y=-this.y}getReflectOrigin(){return new e(-this.x,-this.y)}}e.vectorFromTwoPoints=function(t,i){return new e(t.x-i.x,t.y-i.y)};class i{constructor(t,e,i,n){this.x=t,this.y=e,this.size=1,i&&(this.size=i),this.color="black",n&&(this.color=n)}draw(t,e,i){e||(e=this.color),i||(i=this.size),t.fillStyle=e,i>1?(t.beginPath(),t.arc(this.x,this.y,i,0,2*Math.PI),t.fill()):t.fillRect(this.x,this.y,1,1)}toVector(){return new e(this.x,this.y)}isInsideCircle(t){return Math.pow(this.x-t.center.x,2)+Math.pow(this.y-t.center.y,2)<=t.radius*t.radius}}i.joinPointArray=function(t,e,i,n){if("string"==typeof i&&(t.strokeStyle=i),"number"==typeof n&&n>1&&(t.lineWidth=n),Array.isArray(e)){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.stroke()}};class n{constructor(t,e){this.point1=t,this.point2=e}draw(t,e,i){"string"==typeof e&&(t.strokeStyle=e),"number"==typeof i&&(t.lineWidth=i),t.beginPath(),t.moveTo(this.point1.x,this.point1.y),t.lineTo(this.point2.x,this.point2.y),t.stroke()}getSlope(){return(this.point1.y-this.point2.y)/(this.point1.x-this.point2.x)}getLength(){return Math.sqrt(Math.pow(this.point1.x-this.point2.x,2)+Math.pow(this.point1.y-this.point2.y,2))}getAngleWithXAxis(t){return t?180*Math.atan(this.getSlope())/Math.PI:Math.atan(this.getSlope())}}n.getIntersectionPoint=function(t,e){const n=t.point1.x,r=t.point1.y,s=t.point2.x,h=t.point2.y,o=e.point1.x,l=e.point1.y,a=e.point2.x,c=e.point2.y;let u=(n-s)*(l-c)-(r-h)*(o-a),d=new i(0,0);return 0!==u&&(d.x=((n*h-r*s)*(o-a)-(n-s)*(o*c-l*a))/u,d.y=((n*h-r*s)*(l-c)-(r-h)*(o*c-l*a))/u,d)},n.getAngleBetweenLines=function(t,e,i){let n=t.getSlope(),r=e.getSlope();return i?180*Math.atan((n-r)/(1+n*r))/Math.PI:Math.atan((n-r)/(1+n*r))};class r{constructor(t,i){this.vec=t,this.width=i.x,this.height=i.y,this.vec_center=new e((t.x+i.x+t.x)/2,(t.y+i.y+t.y)/2),this.color="black",this.isSolid=!0,this.thickness=1}toggleFilled(t){return this.isSolid=!!t,this}draw(t,e){"string"==typeof e?(t.fillStyle=e,t.strokeStyle=e):(t.fillStyle=this.color,t.strokeStyle=e),this.isSolid?t.fillRect(this.vec.x,this.vec.y,this.width,this.height):(t.lineWidth=this.thickness?this.thickness:1,t.strokeRect(this.vec.x,this.vec.y,this.width,this.height))}drawSprite(t,e,i,n,r){e&&t.drawImage(e,i.x,i.y,n,r,this.vec.x,this.vec.y,this.width,this.height)}rotateSpriteAndDraw(t,e,i,n,r,s){e&&(t.save(),t.translate(this.vec.x+this.width/2,this.vec.y+this.height/2),t.rotate(i),t.drawImage(e,n.x,n.y,r,s,-this.width/2,-this.height/2,this.width,this.height),t.restore())}}class s{constructor(t,e,i,n,r){this.center=t,this.radius=e,this.isSolid="boolean"==typeof n&&n,this.thickness="number"==typeof r?r:1,this.color="string"==typeof i?i:"black"}draw(t,e,i){e="number"==typeof(i="string"==typeof i?i:this.color)?e:this.thickness,this.isSolid?t.fillStyle=i:t.strokeStyle=i,t.beginPath(),t.arc(this.center.x,this.center.y,this.radius,0,2*Math.PI),this.isSolid?t.fill():t.stroke()}drawWithStringInside(t,i,n,r,s,h,o,l){o="number"==typeof(i="string"==typeof i?i:this.color)?o:this.thickness,this.isSolid=l,this.isSolid?t.fillStyle=i:t.strokeStyle=i,t.beginPath(),t.arc(this.center.x,this.center.y,this.radius,0,2*Math.PI),this.isSolid?t.fill():t.stroke(),t.fillStyle="string"==typeof r?r:"black",t.font="string"==typeof s?s:"bold 10px serif",t.textAlign="string"==typeof h?h:"alphabetic";let a=t.measureText(n),c=new e(this.center.x-a.width/2,this.center.y+a.actualBoundingBoxAscent/2);t.fillText(n,c.x,c.y)}}class h{}h.checkCollision=function(t,e){let i=t.radius+e.radius;return i*=i,i>Math.pow(t.center.x-e.center.x,2)+Math.pow(t.center.y-e.center.y,2)},h.resolveCollision=function(t,i){let n=t.radius+i.radius,r=Math.pow(t.center.x-i.center.x,2)+Math.pow(t.center.y-i.center.y,2);if(r=Math.sqrt(r),n>r){let s=(n-r)/2,h=e.vectorFromTwoPoints(t.center,i.center);return h.normalize(),h.scaleVector(s),t.center.addVector(h),i.center.subtractVector(h),!0}return!1},h.circleRectCollision=function(t,i){let n=t.center.x,r=t.center.y;t.center.x<i.vec.x?n=i.vec.x:t.center.x>i.vec.x+i.width&&(n=i.vec.x+i.width),t.center.y<i.vec.y?r=i.vec.y:t.center.y>i.vec.y+i.height&&(r=i.vec.y+i.height);let s=t.center.x-n,h=t.center.y-r,o=Math.sqrt(s*s+h*h);if(o<=t.radius){let i=e.vectorFromTwoPoints(t.center,new e(n,r));return i.normalize(),i.scaleVector(t.radius-o),i}return!1},h.circleRectCollisionResolve=function(t,e){let i=h.circleRectCollision(t,e);return!!i&&(t.center.x+=i.x,t.center.y+=i.y,!0)};class o{constructor(){this.vertices=[],this.center=new e(0,0),this.radius=0,this.angle=0,this.color="black"}addPoint(t){this.vertices.push(t)}removeLastPoint(){this.vertices.pop()}getVertices(){return this.vertices}moveToPoint(t){this.vertices.forEach((e=>{e.reflectX(),e.translate(t)}))}createPolygonWithNumberOfSides(t,i,n,r){this.center=new e(t,i),this.radius=n;let s=2*Math.PI/r;for(let h=0;h<r;h++){let r=t+n*Math.sin(h*s),o=i+n*Math.cos(h*s);this.vertices.push(new e(r,o))}}recalculateVertices(){let t=2*Math.PI/this.vertices.length,i=[];for(let n=0;n<this.vertices.length;n++){let r=this.center.x+this.radius*Math.sin(n*t),s=this.center.y+this.radius*Math.cos(n*t);i.push(new e(r,s))}this.vertices=i}recalculateCenter(){let t=this.vertices[this.vertices.length-1];this.center.x=t.x,this.center.y=t.y-this.radius}getAxes(){let t=[];for(let i=0;i<this.vertices.length;i++){let n=(i+1)%this.vertices.length;t.push(new e(this.vertices[n].x-this.vertices[i].x,this.vertices[n].y-this.vertices[i].y))}return t}getNormals(){let t=[];for(let i=0;i<this.vertices.length;i++){let n=(i+1)%this.vertices.length;t.push(new e(-1*(this.vertices[n].y-this.vertices[i].y),this.vertices[n].x-this.vertices[i].x).getNormalized())}return t}draw(t,e,i){i&&null!=i||(i=this.color),e&&null!=e||(e=1);for(let r=0;r<this.vertices.length-1;r++)new n(this.vertices[r],this.vertices[r+1]).draw(t,i,e);new n(this.vertices[0],this.vertices[this.vertices.length-1]).draw(t,i,e)}}o.SatCollision=function(t,i){let n=t.vertices,r=i.vertices;for(let t=0;t<n.length;t++){let i=(t+1)%n.length,s=new e(-1*(n[i].y-n[t].y),n[i].x-n[t].x).getNormalized(),h=-1/0,o=1/0;n.forEach((t=>{let e=s.getDotProduct(t);h=Math.max(h,e),o=Math.min(o,e)}));let l=-1/0,a=1/0;if(r.forEach((t=>{let e=s.getDotProduct(t);l=Math.max(l,e),a=Math.min(a,e)})),!(o<l&&o>a||a<h&&a>o))return!1}for(let t=0;t<r.length;t++){let i=(t+1)%r.length,s=new e(-1*(r[i].y-r[t].y),r[i].x-r[t].x).getNormalized(),h=-1/0,o=1/0;n.forEach((t=>{let e=s.getDotProduct(t);h=Math.max(h,e),o=Math.min(o,e)}));let l=-1/0,a=1/0;if(r.forEach((t=>{let e=s.getDotProduct(t);l=Math.max(l,e),a=Math.min(a,e)})),!(o<l&&o>a||a<h&&a>o))return!1}return!0},o.SatStaticResolution=function(t,i){let n=t.vertices,r=i.vertices,s=1/0,h=1/0,o=1/0;for(let t=0;t<n.length;t++){let i=(t+1)%n.length,h=new e(-1*(n[i].y-n[t].y),n[i].x-n[t].x).getNormalized(),o=-1/0,l=1/0;n.forEach((t=>{let e=h.getDotProduct(t);o=Math.max(o,e),l=Math.min(l,e)}));let a=-1/0,c=1/0;if(r.forEach((t=>{let e=h.getDotProduct(t);a=Math.max(a,e),c=Math.min(c,e)})),!(l<a&&l>c||c<o&&c>l))return!1;s=Math.min(Math.min(o,a)-Math.max(l,c),s)}for(let t=0;t<r.length;t++){let i=(t+1)%r.length,s=new e(-1*(r[i].y-r[t].y),r[i].x-r[t].x).getNormalized(),o=-1/0,l=1/0;n.forEach((t=>{let e=s.getDotProduct(t);o=Math.max(o,e),l=Math.min(l,e)}));let a=-1/0,c=1/0;if(r.forEach((t=>{let e=s.getDotProduct(t);a=Math.max(a,e),c=Math.min(c,e)})),!(l<a&&l>c||c<o&&c>l))return!1;h=Math.min(Math.min(o,a)-Math.min(l,c),h)}o=Math.min(s,h);let l=new e(i.center.x-t.center.x,i.center.y-t.center.y);l.normalize();let a=l;return l.scaleVector(o),t.center.x=t.center.x-l.x,t.center.y=t.center.y-l.y,t.recalculateVertices(),a};class l{}l.generateTileArray=function(t,i,n){let r=[];for(let s=0;t>s;s++)for(let t=0;i>t;t++)r.push(new e(t*n,s*n));return r},l.getCellNumber=function(t,e,i){return t*e+e-i},l.getRow=function(t,e){let i=t/e;return 0!=i-Math.floor(i)&&i++,Math.floor(i)},l.getColumn=function(t,e){let i=t%e;return 0===i?e:i},l.drawTile=function(t,e,i,n,r,s){t.drawImage(e,i.x,i.y,n,n,r.x,r.y,s,s)};class a{constructor(t){this.value=t,this.next=null}}class c{head;tail;length;constructor(t){this.head=new a(t),this.tail=this.head,this.length=1}_initiateEmptyList(t){this.head=new a(t),this.tail=this.head,this.length++}append(t){if(0===this.length)return this._initiateEmptyList(t),this;const e=new a(t);return this.tail.next=e,this.tail=e,this.length++,this}prepend(t){if(0===this.length)return this._initiateEmptyList(t),this;let e=this.head;this.head=new a(t),this.head.next=e,this.length++}insert(t,e){if(0===this.length)return this._initiateEmptyList(t),this;if(e>=this.length)return this.append(t),this;if(e<=0)return this.prepend(t),this;let i=this.traverseToIndex(e-1),n=i.next;return i.next=new a(t),i.next.next=n,this.length++,this}search(t){let e=0,i=this.head;for(;null!==i;){if(i.value===t)return e;e++,i=i.next}return null}traverseToIndex(t){if(t>=this.length&&(t=this.length-1),t<=0)return this.head;let e=0,i=this.head;for(;e!==t&&null!==i;)i=i.next,e++;return i}removeAtIndex(t){if(t>=this.length||t<0)return null;if(0===t){1===this.length&&(this.tail=null);const t=this.head.value;return this.head=this.head.next,this.length--,t}let e=this.traverseToIndex(t-1);t===this.length-1&&(this.tail=e);let i=e.next,n=i.value;return e.next=i.next,this.length--,n}remove(t){let e=0,i=this.head,n=null;for(;null!==i;){if(i.value===t){let t=i.value;return null!==n?n.next=i.next:this.head=i.next,e===this.length-1&&(this.tail=n),this.length--,t}n=i,i=i.next,e++}return null}printToConsole(){if(0===this.length)return void console.log(`Length : ${this.length}. Head : ${this.head}, Tail : ${this.tail}`);console.log(`Length : ${this.length}, Head : ${this.head.value}, Tail : ${this.tail.value}`);let t=this.head;for(;null!==t;)console.log(t.value),t=t.next}}let u=screen.width;screen.height;const d=600;window.innerWidth,window.innerHeight;const x=u>d?400:2*u/3,y=u>d?d:.95*u,g=u>d?25:.04*y,m=u>d?30:.04*y,f=2*g+m,v=.1*y,w=.1*y,p=new t(y,x,"canvas-div","demo");p.setStyle("border:none;box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;");const M=p.ctx;function I(t,e,r,s){let h,o;return"right"===s?(h=new i(t.x-e,t.y),o=new i(t.x-e-r,t.y)):"down"===s?(h=new i(t.x,t.y-e),o=new i(t.x,t.y-e-r)):"left"===s&&(h=new i(t.x+e,t.y),o=new i(t.x+e+r,t.y)),new n(h,o)}let b;function S(t){p.clearCanvas(),new r(new e(0,0),new e(y,x)).draw(M,"#F7F7F7"),function(t,r,h){if(!t)return;let o=t.head,l=new e(v,w),a=!0,c=!1,u=0;for(;o;){let d="pink",x="darkblue";0===u?d="green":u===t.length-1&&(d="red");let y=u===h;if(new s(l,g,d,!1,3).drawWithStringInside(r,d,o.value.toString(),x,"bold 20px serif","alphabetic",null,y),u>0){let t="";a&&(t="right"),a||(t="left"),u%7==0&&(t="down");let e=I(l,g,m,t);e.draw(r,"black",2);let s,h,o=10,c=6,d=e.point1;"right"===t?(s=new i(d.x-o,d.y-c),h=new i(d.x-o,d.y+c)):"left"===t?(s=new i(d.x+o,d.y-c),h=new i(d.x+o,d.y+c)):"down"===t&&(s=new i(d.x+c,d.y-o),h=new i(d.x-c,d.y-o)),new n(d,s).draw(r,"black",3),new n(d,h).draw(r,"black",3),new n(s,h).draw(r,"black",3)}u++,c=!1,u%7==0&&0!==u&&(l.addVector(new e(0,f)),a=!a,c=!0),a&&!c?l.addVector(new e(f,0)):a||c||l.addVector(new e(-f,0)),o=o.next}}(b,M,t)}function k(t){t.style.display="none"===t.style.display?"block":"none"}function P(t){return Math.floor(Math.random()*t)}function T(){b=null}function E(t){b?b.append(t):b=new c(t)}document.getElementById("control-panel").style=`width:${.9*y}; height:auto;`;const V={create:document.getElementById("button-create"),createText:document.getElementById("text-create"),random:document.getElementById("button-create-random"),fromArray:document.getElementById("button-create-array"),insert:document.getElementById("button-insert"),insertText:document.getElementById("text-insert"),atTail:document.getElementById("button-insert-tail"),atHead:document.getElementById("button-insert-head"),insertAtIndex:document.getElementById("button-insert-at-index"),search:document.getElementById("button-search"),searchText:document.getElementById("text-search"),remove:document.getElementById("button-remove"),removeText:document.getElementById("text-remove"),removeByValue:document.getElementById("button-remove-by-value"),removeAtIndex:document.getElementById("button-remove-at-index"),clear:document.getElementById("button-clear")};V.create.onclick=()=>{k(V.createText),k(V.random),k(V.fromArray)},V.insert.onclick=()=>{k(V.atHead),k(V.atTail),k(V.insertAtIndex),k(V.insertText)},V.remove.onclick=()=>{k(V.removeText),k(V.removeAtIndex),k(V.removeByValue)},V.search.onclick=()=>{let t=parseInt(V.searchText.value);isNaN(t)||S(b.search(t))},V.random.onclick=()=>{let t=parseInt(V.createText.value);isNaN(t)||(function(t){for(b=null,b=new c(P(100));t-1>0;)b.append(P(100)),t--}(t),S())},V.fromArray.onclick=()=>{T(),function(t){let e=t.split(",");e[0]=e[0].substring(1);let i=e[e.length-1];return i=i.substring(0,i.length-1),e[e.length-1]=i,e.forEach(((t,i)=>e[i]=parseInt(t))),e=e.filter((t=>!isNaN(t))),e}(V.createText.value).forEach((t=>E(t))),S()},V.atHead.onclick=()=>{let t=parseInt(V.insertText.value);isNaN(t)||(function(t){b?b.prepend(t):b=new c(t)}(t),S())},V.atTail.onclick=()=>{let t=parseInt(V.insertText.value);isNaN(t)||(E(t),S())},V.insertAtIndex.onclick=()=>{let t=V.insertText.value.split(",");const e=parseInt(t[0]),i=parseInt(t[1]);isNaN(e)||isNaN(i)||(function(t,e){b?b.insert(t,e):b=new c(t)}(e,i),S())},V.removeByValue.onclick=()=>{let t=parseInt(V.removeText.value);isNaN(t)||(b.remove(t),S())},V.removeAtIndex.onclick=()=>{let t=parseInt(V.removeText.value);isNaN(t)||(b.removeAtIndex(t),S())},V.clear.onclick=()=>{T(),p.clearCanvas()}})();